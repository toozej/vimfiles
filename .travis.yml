---
services:
  - docker

before_install:
  - docker pull rmohta/alpine-vim8:base

script:
  - docker run --rm -it rmohta/alpine-vim8:base /bin/sh -c "apk update && apk add git;
      rm -rf /root/.vim/ /root/.vimrc;
      mkdir /root/.vim/;
      mv vimrc autoload /root/.vim/;
      ln -s .vim/vimrc ~/.vimrc;
      vim +\'PlugInstall --sync\' +qa;"
  - echo "if we got to this point the test has finished successfully, exiting." && exit 0
